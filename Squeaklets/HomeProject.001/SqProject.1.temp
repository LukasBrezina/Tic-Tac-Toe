'From Squeak6.0 of 15 January 2024 [latest update: #22148] on 22 January 2026 at 8:19:47 pm'!Object subclass: #TTTHttpLite	instanceVariableNames: 'host port'	classVariableNames: ''	poolDictionaries: ''	category: 'TicTacToe-Lite'!BorderedMorph subclass: #TicTacToeCell	instanceVariableNames: 'index game label'	classVariableNames: ''	poolDictionaries: ''	category: 'TicTacToe'!Morph subclass: #TicTacToeGame	instanceVariableNames: 'board currentPlayer cells gameOver statusLabel restartButton'	classVariableNames: ''	poolDictionaries: ''	category: 'TicTacToe'!!TTTHttpLite methodsFor: 'initialization'!initializeHost: aHost port: aPort
    host := aHost.
    port := aPort.
    ^ self! !!TTTHttpLite methodsFor: 'requests'!get: aPath
    ^ self requestMethod: 'GET' path: aPath body: nil contentType: nil! !!TTTHttpLite methodsFor: 'requests'!post: aPath jsonBody: aString
    ^ self requestMethod: 'POST' path: aPath body: aString contentType: 'application/json'! !!TTTHttpLite class methodsFor: 'instance creation'!localhost4000
    ^ self new initializeHost: 'localhost' port: 4000! !!TicTacToeCell methodsFor: 'accessing' stamp: 'mp 1/22/2026 20:13'!game: aGame    game := aGame.! !!TicTacToeCell methodsFor: 'accessing' stamp: 'mp 1/22/2026 20:13'!index: anInteger    index := anInteger.! !!TicTacToeCell methodsFor: 'events' stamp: 'mp 1/22/2026 20:13'!mouseDown: evt    game makeMove: index.! !!TicTacToeCell methodsFor: 'ui' stamp: 'mp 1/22/2026 20:13'!reset    label contents: ''.! !!TicTacToeCell methodsFor: 'ui' stamp: 'mp 1/22/2026 20:13'!updateDisplay: symbol    symbol ifNil: [label contents: ''. ^ self].    label contents: symbol asString.    label font: (TextStyle default fontOfSize: 48).    label color: (symbol = #X ifTrue: [Color blue] ifFalse: [Color red]).    label position: self center - (label extent // 2).! !!TicTacToeCell methodsFor: 'initialization' stamp: 'mp 1/22/2026 20:12'!initialize    super initialize.    self color: Color white.    self borderWidth: 2.    self borderColor: Color black.    label := TextMorph new.    label contents: ''.    label font: (TextStyle default fontOfSize: 48).    self addMorph: label.! !!TicTacToeGame methodsFor: 'game' stamp: 'mp 1/22/2026 20:12'!announceDraw    self inform: 'Unentschieden!!'.! !!TicTacToeGame methodsFor: 'game' stamp: 'mp 1/22/2026 20:12'!announceWinner    | msg |    msg := 'Spieler ', currentPlayer asString, ' hat gewonnen!!'.    self inform: msg.! !!TicTacToeGame methodsFor: 'game' stamp: 'mp 1/22/2026 20:12'!checkDraw    ^ board allSatisfy: [:cell | cell notNil]! !!TicTacToeGame methodsFor: 'game' stamp: 'mp 1/22/2026 20:11'!checkWinner    | winPatterns |    winPatterns := #(        #(1 2 3) #(4 5 6) #(7 8 9)        #(1 4 7) #(2 5 8) #(3 6 9)        #(1 5 9) #(3 5 7)    ).        winPatterns do: [:pattern |        | a b c |        a := board at: (pattern at: 1).        b := board at: (pattern at: 2).        c := board at: (pattern at: 3).                (a notNil and: [a = b and: [b = c]]) ifTrue: [^ true]    ].    ^ false! !!TicTacToeGame methodsFor: 'game' stamp: 'mp 1/22/2026 20:11'!makeMove: index    gameOver ifTrue: [^ self].    (board at: index) ifNotNil: [^ self].        board at: index put: currentPlayer.    self updateCell: index.        self checkWinner ifTrue: [        self announceWinner.        gameOver := true.        ^ self    ].        self checkDraw ifTrue: [        self announceDraw.        gameOver := true.        ^ self    ].        self switchPlayer.! !!TicTacToeGame methodsFor: 'game' stamp: 'mp 1/22/2026 20:12'!restart    self setupGame.    self layoutCells.    cells do: [:cell | cell reset].! !!TicTacToeGame methodsFor: 'game' stamp: 'mp 1/22/2026 20:11'!switchPlayer    currentPlayer := currentPlayer = #X ifTrue: [#O] ifFalse: [#X].! !!TicTacToeGame methodsFor: 'game' stamp: 'mp 1/22/2026 20:11'!updateCell: index    (cells at: index) updateDisplay: (board at: index).! !!TicTacToeGame methodsFor: 'ui' stamp: 'mp 1/22/2026 20:10'!addRestartButton    | button |    button := SimpleButtonMorph new.    button label: 'Neues Spiel'.    button target: self.    button actionSelector: #restart.    button position: 100@360.    button color: Color lightGreen.    self addMorph: button.! !!TicTacToeGame methodsFor: 'ui' stamp: 'mp 1/22/2026 20:10'!createCellAt: index position: pos size: size    | cell |    cell := TicTacToeCell new.    cell extent: size@size.    cell index: index.    cell game: self.    ^ cell! !!TicTacToeGame methodsFor: 'ui' stamp: 'mp 1/22/2026 20:08'!layoutCells    | cellSize gap startX startY |    cellSize := 100.    gap := 10.    startX := 25.    startY := 50.        1 to: 9 do: [:i |        | cell row col x y |        row := (i - 1) // 3.        col := (i - 1) \\ 3.        x := startX + (col * (cellSize + gap)).        y := startY + (row * (cellSize + gap)).                cell := self createCellAt: i position: x@y size: cellSize.        cells add: cell.        self addMorph: cell.        cell position: (x@y)    ].! !!TicTacToeGame methodsFor: 'initialization' stamp: 'mp 1/22/2026 20:07'!initialize    super initialize.    self extent: 350@400.    self color: Color white.    self position: 100@100.    self setupGame.    self layoutCells.    self addRestartButton.! !!TicTacToeGame methodsFor: 'initialization' stamp: 'mp 1/22/2026 20:08'!setupGame    board := Array new: 9 withAll: nil.    currentPlayer := #X.    gameOver := false.    cells ifNotNil: [cells do: [:cell | cell delete]].    cells := OrderedCollection new.! !